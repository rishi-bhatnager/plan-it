{% extends 'planner/base.html' %}

{% block content %}


<h2>my tasks</h2>
<ul>
{% for task in user.task_set.all %}
    <li><button><a href="{% url 'users:task_details' task.id %}">{{task.name|safe}}</a></button></li>
    <p>Name: {{task.name|safe}}, User: {{task.user}}</p>
    <!-- <p>Notes: {{task.notes|safe}}</p> -->
        <!-- see Django's built-in template tags and filters for more ways to format properly -->
    <p>Category: {{task.get_category_display}}</p>
    <p>Date Added: {{task.getAddDate}}</p>
    <!-- <p>Date Due: {{task.getDueDate}}</p> -->
    <p>Expected Time for Completion: {{task.expTime}}</p>
    <!-- <p>Scheduled Times: {{task.times}}</p> -->
{% empty %}
    <p>you don't have any tasks</p>
{% endfor %}

<button id="authorize_button" style="display: block;">Authorize</button>
<button id="signout_button" style="display: none;">Sign Out</button>
<button id="add_event" style="display:none;">Add Event</button>
<button id="list_events" style="display:none;">List Events</button>
<pre id="content" style="white-space: pre-wrap;"></pre>
<script async defer src="https://apis.google.com/js/api.js"
  onload="this.onload=function(){};handleClientLoad()"
  onreadystatechange="if (this.readyState === 'complete') this.onload()">
</script>
<script src = '../../../static/js/api-script.js' defer></script>
</ul>
<p>
  <a class="ml-2" href="{% url 'planner:add_task' %}">+ Add Task</a>
</p>

{% endblock %}
